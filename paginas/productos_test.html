<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="../imagenes/Logo_FunnyBox.JPG">
    <!--<link rel="stylesheet" href="estilos/style.css">-->
    <link rel="stylesheet" href="../cssdest/estilos.css"> 
    <link rel="stylesheet" href="../estilos/animate.css">  
   <!-- Bootstrap CSS -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">    

   <meta name="description" content="FunnyBox regalo para niños que hace volar su creatividad, mediante diversión y entretenimiento en Lima">
   <meta name="keywords" content="juego para niños regalo hijo obsequio hija diversión sobrino creatividad sobrina entretenimiento nieto nieta delivery en Lima">


   <title>Caja divertida para niños | Delivery en Lima</title>

</head>


<body>

            <!--Carga Productos-->
            <script src="../js/Carga_Productos.js"></script>
            <!--Filtro Productos-->
            <script src="../js/Filtro.js"></script>



    <!--la etiqueta <header> aporta información introductoria (como títulos, subtítulos, logos....)-->
        <!--<nav> es la Barra de Navegación-->
            <header>

                <nav class="navbar navbar-expand-md navbar-light fixed-top fondo__pagina">
                    
                    <div class="container">
                        <a href="../index.html" class="navbar-brand animate__animated animate__bounce animate__delay-1s animate__infinite animate__fast"> 
                            <img src="../imagenes/Logo_FunnyBox.JPG" alt="logo" width="45px" height="45px">        
                        </a>
            
                        <button class="navbar-toggler" 
                                type="button" data-bs-toggle="collapse" 
                                data-bs-target="#mainNav" 
                                aria-controls="mainNav" 
                                aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>   
                        </button>    
            
                        <div class="collapse navbar-collapse " id="mainNav" >
                            <div class="nav ms-auto  text-dark flex-column flex-md-row">
                                <a  href="../index.html" class="nav-link text-dark">Inicio</a>
                                <a  href="../paginas/productos.html" class="nav-link text-dark">Productos</a>
                                <a  href="../paginas/sobre_nosotros.html" class="nav-link text-dark">Sobre nosotros</a>
                                <a  href="../paginas/zonas_reparto.html" class="nav-link text-dark">Zonas de reparto</a>
                                <a  href="../paginas/contactanos.html" class="nav-link text-dark">Contáctanos</a>
                            </div>
                        </div>            
        
                    </div>
        
                </nav> 
            </header>    


        <section class="pt-5 min-vh-100 fondo__pagina">
            
            <div class="container-fluid  pt-5" >
                <div class="container">   
                    <div class="row" id="card-container">
                        <h1 class="h1__Funnybox__producto">Nuestros Regalos Divertidos para Niños</h1>
                        
                        <div>
                        <button id="boton" type="button" class="btn btn-outline-dark btn-lg">Gestionar Productos</button>   
                        </div>    

                        <div>
                            <p>Aplicar Filtro por Tipo de Producto</p>
                            <div id="container-radio">
                                <label>
                                    <span>Alcancias</span>
                                    <input type="radio" name="filtro" value="Alcancia" class="radio">
                                </label>
                                <label>
                                    <span>Lienzos</span>
                                    <input type="radio" name="filtro" value="Lienzo" class="radio">
                                </label>
                               <label>
                                    <span>Todos</span>
                                    <input type="radio" name="filtro" value="todos" class="radio">
                               </label>
                            </div>
                        </div>

                        <script>
                            initListOfitems(); // Here you go
                        </script>

                    </div>


        </section>    

            <!--Pie de Página-->
            <footer class="footer text-center fondo__pagina">
                <div class="container-fluid">
                    <div class="container">
                        <div class="row">
                            <div class="col-8 offset-2 col-md-6 offset-md-3" >
                                <p>Lima - Perú 2022 - Síguenos en nuestras redes sociales</p>   
                                        <a href="https://www.facebook.com/Funny-Box-Per%C3%BA-108836140896985"> 
                                            <img src="../imagenes/facebook.png" alt=Facebook" width="45px" height="45px">        
                                        </a>
                                        <a href="https://www.instagram.com/funnybox_pe/?hl=es-la"> 
                                            <img src="../imagenes/Instagram.png" alt=Instagram" width="45px" height="45px">        
                                        </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </footer>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


    <!--Script de Gestionar Productos-->  
    
    <script src="../js/Productos_Funnybox.js"></script>

    <!--Dom y Eventos-->
    <script src="../js/Dom_Eventos.js"></script>

    <script>

        document.getElementById("boton").onclick = function (){
                        
            let arreglo_producto = new Array();

            let producto1 = new Productos_Funnybox(
                            "Alcancia Minie Mouse",15,10);
            producto1.set_id(1);
            
            let producto2 = new Productos_Funnybox(
                            "Alcancia Unicornio",15,10);
            producto2.set_id(2);

            let producto3 = new Productos_Funnybox(
                            "Lienzo Personalizado Pikachu",10,8);
            producto3.set_id(3);

            let producto4 = new Productos_Funnybox(
                            "Lienzo Personalizado Woody",10,8);
            producto4.set_id(4);

            arreglo_producto.push(producto1);
            arreglo_producto.push(producto2);
            arreglo_producto.push(producto3);
            arreglo_producto.push(producto4);



            let gen_id = 5;
            const hoy = new Date();
            alert("Bienvenidos a Gestionar Productos FunnyBox\n"+hoy.toLocaleString());

            let flag = true ;
            while (flag) {

                let mensaje = "Ud. puede realizar las siguientes acciones: ";
                mensaje +=    "\n1) Agregar producto ";
                mensaje +=    "\n2) Eliminar producto ";
                mensaje +=    "\n3) Mostrar productos en stock " ;
                mensaje +=    "\n4) Salir" ;

                let resp = prompt (mensaje);

                switch (resp){

                    case "1" : 
                            ingresar_nuevo_producto();
                            break;
                    case "2" :          
                            eliminar_producto();
                            break;
                    case "3" :
                            mostrar_producto();
                            break;
                    case "4" : 
                            alert("Gracias por utilizar Gestor de productos Funnybox :) ");
                            flag=false;
                            break;        
                    case null : 
                            alert("Gracias por utilizar Gestor de productos Funnybox :) ");
                            flag=false;
                            break;
                    default : 
                            alert ("No ingresó una opción valida") ;                     


                }
            }


            function solicitar_datos_producto(){
                let check = true ;
                
                while (check){
                    let msj = "";
                    let nombre = prompt("Ingrese nombre").trim();
                    let precio = parseFloat(prompt ("Ingrese precio"));
                    let oferta = parseFloat(prompt ("Ingrese oferta"));   

                        if (!nombre){

                            msj += "\nDebe ingresar nombre";

                        }

                        if (isNaN(precio)){

                            msj += "\nDebe ingresar un valor numérico en precio";
                        }

                        if (isNaN(oferta)){

                            msj += "\nDebe ingresar un valor numérico en oferta";

                        }

                        if (msj != ""){

                            alert(msj);
                            check = confirm("Desea cargar de nuevo los datos");
                            

                        }else{


                            return new Productos_Funnybox (nombre,precio,oferta);

                        }


                }

                return false;


            }

            function ingresar_nuevo_producto (){

                let producto = solicitar_datos_producto();

                if (producto){

                    
                    producto.set_id(gen_id) ;
                    gen_id ++;
                    arreglo_producto.push(producto);
                    alert("Producto agregado con éxito!")

                }


            }


            function eliminar_producto(){

                if (existe_producto()) {

                    mostrar_arreglo();

                    let id_ingresado = prompt("Ingrese el id del producto a eliminar").trim();

                    if (id_ingresado){

                        let producto_encontrado = arreglo_producto.find((a)=> a.id == id_ingresado)
                        
                        if (producto_encontrado) {

                            let resp = confirm("Esta seguro que desea eliminar el producto "+producto_encontrado.mostrar_descripcion() + " ?");
                            if (resp){

                                arreglo_producto = arreglo_producto.filter((a) => a.id != id_ingresado ) ;

                                alert("Producto eliminado con éxito");
                                

                            }


                        }else{
                            alert("Ingrese id correcto");
                        }



                    }
                }



            }

            function mostrar_producto(){

                if (existe_producto()) {

                    let resp = prompt("La info se mostrara ordenada por precio.\n Desea verla en forma Ascendente (A) o Desendente (D)").toUpperCase() ;
                    if (resp == "A") {

                        arreglo_producto.sort((a,b) =>{
                            
                            if (a.precio > b.precio) {
                                return 1;
                            }
                            if (a.precio < b.precio) {
                                return -1;
                            }
                            
                            return 0;
                        })

                        mostrar_arreglo();

                    }

                    else if (resp == "D"){

                        arreglo_producto.sort((a,b) =>{
                            
                            if (a.precio > b.precio) {
                                return -1;
                            }
                            if (a.precio < b.precio) {
                                return 1;
                            }
                            
                            return 0;
                        })

                        mostrar_arreglo();
                    }

                    else {
                        alert("Ingrese valor adecuado para ordenamiento");
                    }


                    
                
                }

            }





            function mostrar_arreglo(){
                let mensaje = "Los productos en stock son";  
                
                arreglo_producto.forEach( (producto)=> {
                    mensaje += "\n " + producto.mostrar_descripcion();
                })

                alert(mensaje);    


            }


            function existe_producto(){

                if (arreglo_producto.length == 0){
                    alert("No hay productos en stock");

                    return false;

                }  

                return true;

            }


        }

    </script>

    

</body>
</html>